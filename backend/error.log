2025-04-01T14:50:46.361Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:50:46.362Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
2025-04-01T14:50:46.366Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:50:46.367Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T14:51:12.678Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:51:12.679Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T14:51:12.685Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:51:12.685Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T14:51:31.148Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:51:31.149Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T14:51:31.159Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:51:31.160Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T14:51:50.652Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:51:50.653Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T14:51:50.657Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:51:50.658Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T14:52:00.198Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:52:00.199Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T14:52:00.202Z ERROR: Error listing forms: SQLITE_ERROR: no such table: question_banks
2025-04-01T14:52:00.202Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#all('\n' +
  '      SELECT qb.*, \n' +
  '             qbp.exam_language, qbp.exam_type, qbp.component, qbp.category,\n' +
  '             (SELECT COUNT(*) FROM cards c \n' +
  '              JOIN question_bank_pages qbp2 ON c.page_id = qbp2.id\n' +
  '              WHERE qbp2.questionbank_id = qb.questionbank_id\n' +
  "              AND c.card_type = 'question') as question_count\n" +
  '      FROM question_banks qb\n' +
  '      LEFT JOIN question_bank_pages qbp ON qb.questionbank_id = qbp.questionbank_id AND qbp.page_index = 1\n' +
  '      ORDER BY qb.updated_at DESC\n' +
  '    ', [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:189:21
    at new Promise (<anonymous>)
    at Database.all (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite\build\Database.js:187:16)
    at exports.listForms (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:68:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T15:04:55.983Z ERROR: Error fetching form cb0e2a07-46a9-478d-bd40-d4f803000b41: result is not defined
2025-04-01T15:04:55.985Z ERROR: ReferenceError: result is not defined
    at exports.getFormById (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:100:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T15:04:55.992Z ERROR: Error fetching form cb0e2a07-46a9-478d-bd40-d4f803000b41: result is not defined
2025-04-01T15:04:55.993Z ERROR: ReferenceError: result is not defined
    at exports.getFormById (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:100:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-04-01T15:08:54.396Z ERROR: Error retrieving form cb0e2a07-46a9-478d-bd40-d4f803000b41: SQLITE_ERROR: no such table: question_banks
2025-04-01T15:08:54.396Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#get('SELECT * FROM question_banks WHERE questionbank_id = ?', [ 'cb0e2a07-46a9-478d-bd40-d4f803000b41' ], [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:35:15
    at new Promise (<anonymous>)
    at FormProcessingService.get (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:34:12)
    at FormProcessingService.getQuestionBankById (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:486:39)
    at exports.getFormById (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:76:42)
    at Layer.handle [as handle_request] (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\express\lib\router\layer.js:95:5)
2025-04-01T15:08:54.404Z ERROR: Error retrieving form cb0e2a07-46a9-478d-bd40-d4f803000b41: SQLITE_ERROR: no such table: question_banks
2025-04-01T15:08:54.405Z ERROR: Error: SQLITE_ERROR: no such table: question_banks
--> in Database#get('SELECT * FROM question_banks WHERE questionbank_id = ?', [ 'cb0e2a07-46a9-478d-bd40-d4f803000b41' ], [Function (anonymous)])
    at D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:35:15
    at new Promise (<anonymous>)
    at FormProcessingService.get (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:34:12)
    at FormProcessingService.getQuestionBankById (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:486:39)
    at exports.getFormById (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:76:42)
    at Layer.handle [as handle_request] (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\express\lib\router\layer.js:95:5)
2025-04-01T15:20:49.176Z ERROR: Error processing form: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_banks.questionbank_id
2025-04-01T15:20:49.177Z ERROR: Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_banks.questionbank_id
--> in Statement#run([
  'c6d3ac69-738d-418c-bd63-0dc133d4bde9',
  'Form Builder Export',
  '2025-04-01T15:20:49.140Z',
  '',
  'draft'
], [Function (anonymous)])
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:76:19)
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:20:19)
    at D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:67:15
    at new Promise (<anonymous>)
    at FormProcessingService.run (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:66:12)
    at FormProcessingService.processForm (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:206:18)
    at async exports.exportForm (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:15:22)
2025-04-01T15:28:22.376Z ERROR: Error processing form: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_banks.questionbank_id
2025-04-01T15:28:22.377Z ERROR: Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_banks.questionbank_id
--> in Statement#run([
  'c6d3ac69-738d-418c-bd63-0dc133d4bde9',
  'Form Builder Export',
  '2025-04-01T15:28:22.367Z',
  '',
  'draft'
], [Function (anonymous)])
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:76:19)
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:20:19)
    at D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:67:15
    at new Promise (<anonymous>)
    at FormProcessingService.run (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:66:12)
    at FormProcessingService.processForm (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:206:18)
    at async exports.exportForm (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:15:22)
2025-04-01T15:29:05.314Z ERROR: Error processing form: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_banks.questionbank_id
2025-04-01T15:29:05.314Z ERROR: Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_banks.questionbank_id
--> in Statement#run([
  'c6d3ac69-738d-418c-bd63-0dc133d4bde9',
  'Form Builder Export',
  '2025-04-01T15:29:05.303Z',
  '',
  'draft'
], [Function (anonymous)])
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:76:19)
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:20:19)
    at D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:67:15
    at new Promise (<anonymous>)
    at FormProcessingService.run (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:66:12)
    at FormProcessingService.processForm (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:206:18)
    at async exports.exportForm (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:15:22)
2025-04-01T15:36:38.618Z ERROR: Error processing form: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_bank_pages.questionbank_id, question_bank_pages.page_index
2025-04-01T15:36:38.619Z ERROR: Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_bank_pages.questionbank_id, question_bank_pages.page_index
--> in Statement#run([ '5f9658dc-557d-42b8-b714-3fe55bd15760', 0, 'en', '', '', '' ], [Function (anonymous)])
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:76:19)
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:20:19)
    at D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:64:15
    at new Promise (<anonymous>)
    at FormProcessingService.run (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:63:12)
    at FormProcessingService.processForm (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:299:39)
    at async exports.exportForm (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:15:22)
2025-04-01T15:36:58.698Z ERROR: Error processing form: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_bank_pages.questionbank_id, question_bank_pages.page_index
2025-04-01T15:36:58.698Z ERROR: Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: question_bank_pages.questionbank_id, question_bank_pages.page_index
--> in Statement#run([ '334f7809-413f-4d47-a709-7bd414ca05cc', 0, 'en', '', '', '' ], [Function (anonymous)])
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:76:19)
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:20:19)
    at D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:64:15
    at new Promise (<anonymous>)
    at FormProcessingService.run (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:63:12)
    at FormProcessingService.processForm (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:299:39)
    at async exports.exportForm (D:\Linguo-Smart\COM6102-group-proj\backend\controllers\exportController.js:15:22)
2025-04-01T15:39:36.902Z ERROR: Error processing form: SQLITE_CONSTRAINT: UNIQUE constraint failed: text_materials.content_id
2025-04-01T15:39:36.903Z ERROR: Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: text_materials.content_id
--> in Statement#run([
  'text-material-1743521712627',
  13,
  0,
  'Reading Passage',
  'Enter the text content here. This could be a reading passage, instructions, or explanatory text.',
  1,
  'h2',
  0
], [Function: replacement])
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:76:19)
    at Database.<anonymous> (D:\Linguo-Smart\COM6102-group-proj\backend\node_modules\sqlite3\lib\sqlite3.js:20:19)
    at D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:64:15
    at new Promise (<anonymous>)
    at FormProcessingService.run (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:63:12)
    at FormProcessingService.processTextMaterial (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:641:25)
    at FormProcessingService.processContent (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:413:29)
    at FormProcessingService.processForm (D:\Linguo-Smart\COM6102-group-proj\backend\models\form-processing-service.js:348:28)
2025-04-01T15:50:04.549Z ERROR: Error processing form: SQLITE_CONSTRAINT: UNIQUE constraint failed: text_materials.content_id
2025-04-02T03:09:39.665Z ERROR: Error processing form: SQLITE_CONSTRAINT: NOT NULL constraint failed: cards.card_type
2025-04-02T03:09:41.659Z ERROR: Error processing form: SQLITE_CONSTRAINT: NOT NULL constraint failed: cards.card_type
2025-04-02T03:19:08.624Z ERROR: Error retrieving form f376d2c3-0010-41a2-9564-1338c9bcbc7c: Cannot read properties of undefined (reading 'getQuestionBankById')
2025-04-02T03:19:08.625Z ERROR: TypeError: Cannot read properties of undefined (reading 'getQuestionBankById')
    at FormProcessingService.getQuestionBankById (/workspaces/COM6102-group-proj/backend/models/form-processing-service.js:226:43)
    at exports.getFormById (/workspaces/COM6102-group-proj/backend/controllers/exportController.js:88:42)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at /workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:284:15
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:365:14)
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:376:14)
    at Function.process_params (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:421:3)
2025-04-02T03:19:08.705Z ERROR: Error retrieving form f376d2c3-0010-41a2-9564-1338c9bcbc7c: Cannot read properties of undefined (reading 'getQuestionBankById')
2025-04-02T03:19:08.706Z ERROR: TypeError: Cannot read properties of undefined (reading 'getQuestionBankById')
    at FormProcessingService.getQuestionBankById (/workspaces/COM6102-group-proj/backend/models/form-processing-service.js:226:43)
    at exports.getFormById (/workspaces/COM6102-group-proj/backend/controllers/exportController.js:88:42)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at /workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:284:15
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:365:14)
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:376:14)
    at Function.process_params (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:421:3)
2025-04-02T03:19:29.220Z ERROR: Error retrieving form e90ed3ec-9cb4-4a5f-b087-4893744ff48b: Cannot read properties of undefined (reading 'getQuestionBankById')
2025-04-02T03:19:29.222Z ERROR: TypeError: Cannot read properties of undefined (reading 'getQuestionBankById')
    at FormProcessingService.getQuestionBankById (/workspaces/COM6102-group-proj/backend/models/form-processing-service.js:226:43)
    at exports.getFormById (/workspaces/COM6102-group-proj/backend/controllers/exportController.js:88:42)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at /workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:284:15
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:365:14)
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:376:14)
    at Function.process_params (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:421:3)
2025-04-02T03:19:29.326Z ERROR: Error retrieving form e90ed3ec-9cb4-4a5f-b087-4893744ff48b: Cannot read properties of undefined (reading 'getQuestionBankById')
2025-04-02T03:19:29.327Z ERROR: TypeError: Cannot read properties of undefined (reading 'getQuestionBankById')
    at FormProcessingService.getQuestionBankById (/workspaces/COM6102-group-proj/backend/models/form-processing-service.js:226:43)
    at exports.getFormById (/workspaces/COM6102-group-proj/backend/controllers/exportController.js:88:42)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at /workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:284:15
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:365:14)
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:376:14)
    at Function.process_params (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:421:3)
2025-04-02T03:20:36.489Z ERROR: Error retrieving form e90ed3ec-9cb4-4a5f-b087-4893744ff48b: Cannot read properties of undefined (reading 'getQuestionBankById')
2025-04-02T03:20:36.490Z ERROR: TypeError: Cannot read properties of undefined (reading 'getQuestionBankById')
    at FormProcessingService.getQuestionBankById (/workspaces/COM6102-group-proj/backend/models/form-processing-service.js:226:43)
    at exports.getFormById (/workspaces/COM6102-group-proj/backend/controllers/exportController.js:88:42)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at /workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:284:15
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:365:14)
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:376:14)
    at Function.process_params (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:421:3)
2025-04-02T03:20:36.752Z ERROR: Error retrieving form e90ed3ec-9cb4-4a5f-b087-4893744ff48b: Cannot read properties of undefined (reading 'getQuestionBankById')
2025-04-02T03:20:36.753Z ERROR: TypeError: Cannot read properties of undefined (reading 'getQuestionBankById')
    at FormProcessingService.getQuestionBankById (/workspaces/COM6102-group-proj/backend/models/form-processing-service.js:226:43)
    at exports.getFormById (/workspaces/COM6102-group-proj/backend/controllers/exportController.js:88:42)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at next (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/layer.js:95:5)
    at /workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:284:15
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:365:14)
    at param (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:376:14)
    at Function.process_params (/workspaces/COM6102-group-proj/backend/node_modules/express/lib/router/index.js:421:3)
2025-04-02T03:22:09.469Z ERROR: Error processing form: SQLITE_CONSTRAINT: NOT NULL constraint failed: cards.card_type
2025-04-02T03:28:07.236Z ERROR: Error processing form: SQLITE_CONSTRAINT: NOT NULL constraint failed: cards.card_type
2025-04-02T03:37:44.222Z ERROR: Error processing form: page is not defined
2025-04-02T03:45:34.449Z ERROR: Error processing form: Cannot create property 'card_type' on string 'material'
2025-04-02T03:46:27.280Z ERROR: Error processing form: Cannot create property 'card_type' on string 'material'
2025-04-02T03:50:26.863Z ERROR: Error processing form: SQLITE_CONSTRAINT: UNIQUE constraint failed: cards.page_id, cards.position
2025-04-02T03:55:30.493Z ERROR: Error processing form: Cannot create property 'position' on string 'material'
2025-04-02T03:59:14.786Z ERROR: Error processing form: SQLITE_CONSTRAINT: FOREIGN KEY constraint failed
2025-04-02T06:23:51.715Z ERROR: Error processing form: SQLITE_CONSTRAINT: FOREIGN KEY constraint failed
2025-04-02T06:31:49.147Z ERROR: Error processing form: SQLITE_ERROR: no such column: card_id
2025-04-02T06:33:32.722Z ERROR: Error processing form: SQLITE_ERROR: no such column: card_id
2025-04-02T06:37:52.312Z ERROR: Error processing form: SQLITE_CONSTRAINT: FOREIGN KEY constraint failed
2025-04-02T06:40:23.561Z ERROR: Error processing form: SQLITE_CONSTRAINT: FOREIGN KEY constraint failed
2025-04-02T06:40:26.796Z ERROR: Error processing form: SQLITE_CONSTRAINT: FOREIGN KEY constraint failed
2025-04-02T06:44:46.869Z ERROR: Error processing form: Failed to create or update page with index 0
2025-04-02T06:45:10.295Z ERROR: Error processing form: Failed to create or update page with index 0
2025-04-02T06:47:00.296Z ERROR: Error processing form: Failed to create page with index 0
2025-04-02T06:48:20.937Z ERROR: Error processing form: Failed to create page with index 0
2025-04-02T06:49:33.007Z ERROR: Error processing form: this.deleteAllCardsFromPage is not a function
2025-04-02T06:49:36.311Z ERROR: Error processing form: this.deleteAllCardsFromPage is not a function
2025-04-02T06:50:32.096Z ERROR: Error processing form: this.deleteCardContent is not a function
2025-04-02T07:01:49.546Z ERROR: Error processing form: Failed to delete question bank de38916f-943c-4681-bd75-3d462390ce0f: SQLITE_CONSTRAINT: FOREIGN KEY constraint failed
